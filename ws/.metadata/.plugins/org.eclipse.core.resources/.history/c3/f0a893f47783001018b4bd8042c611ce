package com.securin.recipes.dto;

import com.securin.recipes.entity.Recipe;
import lombok.*;

import java.util.Map;

@Getter
@Setter
@NoArgsConstructor
@AllArgsConstructor
@Builder
public class RecipeDto {
    private Long id;
    private String cuisine;
    private String title;
    private Double rating;
    private String prepTime;
    private String cookTime;
    private String totalTime;
    private String description;
    private Map<String, Object> nutrients;
    private Integer serves;   // ✅ must match entity (Integer, not String)

    public static RecipeDto fromEntity(Recipe r) {
        return RecipeDto.builder()
                .id(r.getId())
                .cuisine(r.getCuisine())
                .title(r.getTitle())
                .rating(r.getRating())
                .prepTime(r.getPrepTime())
                .cookTime(r.getCookTime())
                .totalTime(r.getTotalTime())
                .description(r.getDescription())
                .nutrients(r.getNutrients())
                .serves(r.getServes())   // ✅ fixed: no type mismatch
                .build();
    }
}
